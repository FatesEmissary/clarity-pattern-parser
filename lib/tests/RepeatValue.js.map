{"version":3,"sources":["../../src/tests/RepeatValue.js"],"names":["exports","assert","throws","RepeatValue","Literal","john","johns","cursor","Cursor","parse","equal","getValue","node","type","value","startIndex","endIndex","getIndex","clone","getType","getName","OptionalValue"],"mappings":"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","sourcesContent":["import RepeatValue from \"../patterns/value/RepeatValue.js\";\nimport Literal from \"../patterns/value/Literal.js\";\nimport OptionalValue from \"../patterns/value/OptionalValue.js\";\nimport assert from \"assert\";\nimport Cursor from \"../Cursor.js\";\n\nexports[\"RepeatValue: Empty Constructor.\"] = () => {\n  assert.throws(() => {\n    new RepeatValue();\n  });\n};\n\nexports[\"RepeatValue: Invalid name.\"] = () => {\n  assert.throws(() => {\n    new RepeatValue([], new Literal(\"blah\", \"Blah\"));\n  });\n};\n\nexports[\"RepeatValue: No patterns\"] = () => {\n  assert.throws(() => {\n    new RepeatValue(\"and-value\");\n  });\n};\n\nexports[\"RepeatValue: Empty patterns\"] = () => {\n  assert.throws(() => {\n    new RepeatValue(\"and-value\", null);\n  });\n};\n\nexports[\"RepeatValue: Invalid patterns\"] = () => {\n  assert.throws(() => {\n    new RepeatValue(\"and-value\", {});\n  });\n};\n\nexports[\"RepeatValue: No Match\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n  const cursor = new Cursor(\"JaneJane\");\n\n  assert.throws(() => {\n    johns.parse(cursor);\n  });\n};\n\nexports[\"RepeatValue: GetValue\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n\n  assert.equal(johns.getValue(), null);\n};\n\nexports[\"RepeatValue: Success, one John\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n  const cursor = new Cursor(\"John\");\n  const node = johns.parse(cursor);\n\n  assert.equal(node.type, \"johns\");\n  assert.equal(node.value, \"John\");\n  assert.equal(node.startIndex, 0);\n  assert.equal(node.endIndex, 3);\n};\n\nexports[\"RepeatValue: Success with a terminating match.\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n  const cursor = new Cursor(\"JohnJohnJane\");\n  const node = johns.parse(cursor);\n\n  assert.equal(node.type, \"johns\");\n  assert.equal(node.value, \"JohnJohn\");\n  assert.equal(node.startIndex, 0);\n  assert.equal(node.endIndex, 7);\n  assert.equal(cursor.getIndex(), 8);\n};\n\nexports[\"RepeatValue: Bad cursor.\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n\n  assert.throws(() => {\n    johns.parse(cursor);\n  });\n};\n\nexports[\"RepeatValue: Clone.\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n  const johns = new RepeatValue(\"johns\", john);\n  const clone = johns.clone();\n\n  assert.equal(johns.getType(), clone.getType());\n  assert.equal(johns.getName(), clone.getName());\n};\n\nexports[\"RepeatValue: Try Optional.\"] = () => {\n  const john = new Literal(\"john\", \"John\");\n\n  assert.throws(() => {\n    new RepeatValue(\"johns\", new OptionalValue(john));\n  });\n};\n"],"file":"RepeatValue.js"}