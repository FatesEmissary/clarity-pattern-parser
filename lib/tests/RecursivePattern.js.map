{"version":3,"sources":["../../src/tests/RecursivePattern.js"],"names":["exports","openCurlyBracket","Literal","closeCurlyBracket","openSquareBracket","closeSquareBracket","colon","space","spaces","RepeatValue","optionalSpaces","OptionalValue","nullLiteral","comma","divider","AndValue","arrayValues","RepeatComposite","RecursivePattern","optionalArrayValues","OptionalComposite","array","AndComposite","value","OrComposite","number","string","boolean","keyValue","keyValues","optionalKeyValues","jsonPattern","json","JSON","stringify","null","prop1","cursor","Cursor","node","parse","error"],"mappings":"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","sourcesContent":["import RecursivePattern from \"../patterns/RecursivePattern.js\";\nimport assert from \"assert\";\nimport {\n  Literal,\n  AndComposite,\n  RepeatValue,\n  OptionalValue,\n  RepeatComposite,\n  OptionalComposite,\n  OrComposite,\n  Cursor,\n  AndValue\n} from \"../index.js\";\nimport string from \"./javascriptPatterns/string\";\nimport number from \"./javascriptPatterns/number\";\nimport boolean from \"./javascriptPatterns/boolean\";\n\nexports[\"RecursivePattern: JSON\"] = () => {\n  const openCurlyBracket = new Literal(\"open-curly-bracket\", \"{\");\n  const closeCurlyBracket = new Literal(\"close-curly-bracket\", \"}\");\n  const openSquareBracket = new Literal(\"open-square-bracket\", \"[\");\n  const closeSquareBracket = new Literal(\"close-square-bracket\", \"]\");\n  const colon = new Literal(\":\", \":\");\n  const space = new Literal(\"space\", \" \");\n  const spaces = new RepeatValue(\"spaces\", space);\n  const optionalSpaces = new OptionalValue(spaces);\n  const nullLiteral = new Literal(\"null\", \"null\");\n  const comma = new Literal(\",\", \",\");\n\n  const divider = new AndValue(\"divider\", [\n    optionalSpaces,\n    comma,\n    optionalSpaces\n  ]);\n\n  const arrayValues = new RepeatComposite(\n    \"values\",\n    new RecursivePattern(\"value\"),\n    divider\n  );\n  const optionalArrayValues = new OptionalComposite(arrayValues);\n\n  const array = new AndComposite(\"array-literal\", [\n    openSquareBracket,\n    optionalSpaces,\n    optionalArrayValues,\n    optionalSpaces,\n    closeSquareBracket\n  ]);\n\n  const value = new OrComposite(\"value\", [\n    number,\n    string,\n    boolean,\n    nullLiteral,\n    array,\n    new RecursivePattern(\"object-literal\")\n  ]);\n\n  const keyValue = new AndComposite(\"key-value\", [\n    string,\n    optionalSpaces,\n    colon,\n    optionalSpaces,\n    value\n  ]);\n\n  const keyValues = new RepeatComposite(\"key-values\", keyValue, divider);\n  const optionalKeyValues = new OptionalComposite(keyValues);\n\n  const jsonPattern = new AndComposite(\"object-literal\", [\n    optionalSpaces,\n    openCurlyBracket,\n    optionalSpaces,\n    optionalKeyValues,\n    optionalSpaces,\n    closeCurlyBracket,\n    optionalSpaces\n  ]);\n\n  const json = JSON.stringify({\n    string: \"This is a string.\",\n    number: 1,\n    boolean: true,\n    json: {\n      string: \"This is a nested string.\"\n    },\n    null: null,\n    array: [1, \"Blah\", { prop1: true }]\n  });\n\n  const cursor = new Cursor(json);\n  try {\n    const node = jsonPattern.parse(cursor);\n    debugger;\n  } catch (error) {\n    debugger;\n  }\n};\n"],"file":"RecursivePattern.js"}