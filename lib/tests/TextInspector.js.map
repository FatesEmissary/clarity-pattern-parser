{"version":3,"sources":["../../src/tests/TextInspector.js"],"names":["exports","text","textInspector","TextInspector","inspection","inspect","sentence","assert","equal","tokens","options","length","startIndex","match","error","isComplete","show","Literal","me","theMoney","yourLicense","space","first","AndValue","second","either","OrValue","json","largeObject","firstName","lastName","age","smallObject","largeJson","JSON","stringify","smallJson","startTime","Date","now","x","endTime","duration"],"mappings":"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","sourcesContent":["import TextInspector from \"../TextInspector.js\";\nimport sentence from \"./patterns/sentence.js\";\nimport assert from \"assert\";\nimport Literal from \"../patterns/value/Literal.js\";\nimport AndValue from \"../patterns/value/AndValue.js\";\nimport OrValue from \"../patterns/value/OrValue.js\";\nimport json from \"./javascriptPatterns/json.js\";\n\nexports[\"TextInspector: Partial Match\"] = () => {\n  const text = \"Pat \";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n  assert.equal(inspection.tokens.options.length, 2);\n  assert.equal(inspection.tokens.startIndex, 4);\n  assert.equal(inspection.match.text, \"Pat \");\n  assert.equal(inspection.error, null);\n  assert.equal(inspection.isComplete, false);\n};\n\nexports[\"TextInspector: Partial Match, with error.\"] = () => {\n  const text = \"Pat wzoo\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: No auto complete so fallback to search.\"] = () => {\n  const text = \"bank\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\n  \"TextInspector: No auto complete so fallback to search with two token.\"\n] = () => {\n  const text = \"store bank\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: Partial Half Match\"] = () => {\n  const text = \"Pat wen\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: Empty String\"] = () => {\n  const text = \"\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: No match with error.\"] = () => {\n  const text = \"Jared left \";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: Complete Match.\"] = () => {\n  const text = \"Pat went to a big store\";\n  const textInspector = new TextInspector();\n\n  const inspection = textInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: static inspect.\"] = () => {\n  const text = \"Pat went to a big store\";\n  const inspection = TextInspector.inspect(text, sentence);\n};\n\nexports[\"TextInspector: static inspect.\"] = () => {\n  const show = new Literal(\"show\", \"Show\");\n  const me = new Literal(\"me\", \"me\");\n  const theMoney = new Literal(\"the-money\", \"the money\");\n  const yourLicense = new Literal(\"your-license\", \"your license\");\n  const space = new Literal(\"space\", \" \");\n  const first = new AndValue(\"first\", [show, space, me, space, theMoney]);\n  const second = new AndValue(\"second\", [show, space, me, space, yourLicense]);\n  const either = new OrValue(\"either\", [first, second]);\n\n  const inspection = TextInspector.inspect(\"Show me \", either);\n};\n\nexports[\"TextInspector: json inspect.\"] = () => {\n  let inspection = TextInspector.inspect(\"{\", json);\n\n  inspection = TextInspector.inspect(`{\"blah\":`, json);\n  inspection = TextInspector.inspect(`{\"blah\":{`, json);\n  inspection = TextInspector.inspect(`{\"blah\":0.9`, json);\n};\n\nexports[\"TextInspector: json inspect timing.\"] = () => {\n  let inspection = TextInspector.inspect(\"{\", json);\n  const largeObject = [\n    {\n      firstName: \"John\",\n      lastName: \"Doe\",\n      age: 10,\n    },\n    {\n      firstName: \"Jack\",\n      lastName: \"Doe\",\n      age: 20,\n    },\n    {\n      firstName: \"Joe\",\n      lastName: \"Doe\",\n      age: 50,\n    },\n    {\n      firstName: \"John\",\n      lastName: \"Smith\",\n      age: 80,\n    },\n    {\n      firstName: \"Joe\",\n      lastName: \"Smith\",\n      age: 10,\n    },\n    {\n      firstName: \"John\",\n      lastName: \"Doe\",\n      age: 10,\n    },\n    {\n      firstName: \"Jack\",\n      lastName: \"Doe\",\n      age: 20,\n    },\n    {\n      firstName: \"Joe\",\n      lastName: \"Doe\",\n      age: 50,\n    },\n    {\n      firstName: \"John\",\n      lastName: \"Smith\",\n      age: 80,\n    },\n    {\n      firstName: \"Joe\",\n      lastName: \"Smith\",\n      age: 10,\n    },\n  ];\n\n  const smallObject = [\n    {\n      firstName: \"John\",\n      lastName: \"Doe\",\n      age: 10,\n    },\n  ];\n\n  const largeJson = JSON.stringify(largeObject);\n  const smallJson = JSON.stringify(smallObject);\n\n  const startTime = Date.now();\n\n  //inspection = TextInspector.inspect(`{\"blah\":`, json);\n  //inspection = TextInspector.inspect(`{\"blah\":{`, json);\n\n  for (let x = 0; x < 1; x++) {\n    inspection = TextInspector.inspect(largeJson, json);\n  }\n\n  const endTime = Date.now();\n\n  const duration = endTime - startTime;\n};\n"],"file":"TextInspector.js"}