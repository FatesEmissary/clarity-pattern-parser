{"version":3,"sources":["../../src/tests/readmeDemo.js"],"names":["exports","forwardSlashes","Literal","newLine","returnCarriage","windowsNewLine","AndValue","lineEnd","OrValue","character","NotValue","comment","RepeatValue","lineEndingComment","string","cursor","Cursor","node","parse","assert","equal","name","value","JSON","stringify","AndComposite","children"],"mappings":"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","sourcesContent":["import {\n  Cursor,\n  Literal,\n  AndValue,\n  OrValue,\n  RepeatValue,\n  NotValue,\n  AndComposite\n} from \"../index.js\";\nimport assert from \"assert\";\n\nexports[\"readme.md: value\"] = () => {\n  const forwardSlashes = new Literal(\"forward-slashes\", \"//\");\n  const newLine = new Literal(\"new-line\", \"\\n\");\n  const returnCarriage = new Literal(\"return-carriage\", \"\\r\");\n  const windowsNewLine = new AndValue(\"windows-new-line\", [\n    returnCarriage,\n    newLine\n  ]);\n  const lineEnd = new OrValue(\"line-end\", [newLine, windowsNewLine]);\n  const character = new NotValue(\"character\", lineEnd);\n  const comment = new RepeatValue(\"comment\", character);\n\n  const lineEndingComment = new AndValue(\"line-ending-comment\", [\n    forwardSlashes,\n    comment,\n    lineEnd\n  ]);\n\n  const string = \"// This is a comment\\n\";\n  const cursor = new Cursor(string);\n  const node = lineEndingComment.parse(cursor);\n\n  assert.equal(node.name, \"line-ending-comment\"); // --> true\n  assert.equal(node.value, string); // --> true\n  assert.equal(\n    JSON.stringify(node),\n    '{\"type\":\"and-value\",\"name\":\"line-ending-comment\",\"startIndex\":0,\"endIndex\":20,\"value\":\"// This is a comment\\\\n\"}'\n  ); // --> true\n};\n\nexports[\"readme.md: composite\"] = () => {\n  const forwardSlashes = new Literal(\"forward-slashes\", \"//\");\n  const newLine = new Literal(\"new-line\", \"\\n\");\n  const returnCarriage = new Literal(\"return-carriage\", \"\\r\");\n  const windowsNewLine = new AndValue(\"windows-new-line\", [\n    returnCarriage,\n    newLine\n  ]);\n  const lineEnd = new OrValue(\"line-end\", [newLine, windowsNewLine]);\n  const character = new NotValue(\"character\", lineEnd);\n  const comment = new RepeatValue(\"comment\", character);\n\n  const lineEndingComment = new AndComposite(\"line-ending-comment\", [\n    forwardSlashes,\n    comment,\n    lineEnd\n  ]);\n\n  const string = \"// This is a comment\\n\";\n  const cursor = new Cursor(string);\n  const node = lineEndingComment.parse(cursor);\n\n  assert.equal(node.name, \"line-ending-comment\");\n\n  assert.equal(node.children[0].name, \"forward-slashes\");\n  assert.equal(node.children[0].value, \"//\");\n\n  assert.equal(node.children[1].name, \"comment\");\n  assert.equal(node.children[1].value, \" This is a comment\");\n\n  assert.equal(node.children[2].name, \"line-end\");\n  assert.equal(node.children[2].value, \"\\n\");\n\n  assert.equal(\n    JSON.stringify(node),\n    '{\"type\":\"and-composite\",\"name\":\"line-ending-comment\",\"startIndex\":0,\"endIndex\":20,\"children\":[{\"type\":\"literal\",\"name\":\"forward-slashes\",\"startIndex\":0,\"endIndex\":1,\"value\":\"//\"},{\"type\":\"repeat-value\",\"name\":\"comment\",\"startIndex\":2,\"endIndex\":19,\"value\":\" This is a comment\"},{\"type\":\"or-value\",\"name\":\"line-end\",\"startIndex\":20,\"endIndex\":20,\"value\":\"\\\\n\"}]}'\n  );\n};\n"],"file":"readmeDemo.js"}