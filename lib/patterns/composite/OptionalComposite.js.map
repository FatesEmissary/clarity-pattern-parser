{"version":3,"sources":["../../../src/patterns/composite/OptionalComposite.js"],"names":["OptionalComposite","pattern","_assertArguments","children","CompositePattern","Error","cursor","parseError","mark","parse","error","moveToMark"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;IAEqBA,iB;;;;;AACnB,6BAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,2FAAM,oBAAN,EAA4B,CAACA,OAAD,CAA5B;;AAEA,UAAKC,gBAAL;;AAHmB;AAIpB;;;;uCAEkB;AACjB,UAAI,EAAE,KAAKC,QAAL,CAAc,CAAd,aAA4BC,0BAA9B,CAAJ,EAAqD;AACnD,cAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;AACD;AACF;;;0BAEKC,M,EAAQC,U,EAAY;AACxB,UAAMC,IAAI,GAAGF,MAAM,CAACE,IAAP,EAAb;AACA,WAAKA,IAAL,GAAYA,IAAZ;;AAEA,UAAI;AACF,eAAO,KAAKL,QAAL,CAAc,CAAd,EAAiBM,KAAjB,CAAuBH,MAAvB,EAA+BC,UAA/B,CAAP;AACD,OAFD,CAEE,OAAOG,KAAP,EAAc;AACdJ,QAAAA,MAAM,CAACK,UAAP,CAAkBH,IAAlB;AACA,eAAO,IAAP;AACD;AACF;;;4BAEO;AACN,aAAO,IAAIR,iBAAJ,CAAsB,KAAKG,QAAL,CAAc,CAAd,CAAtB,CAAP;AACD;;;qCAEe;AACd,aAAO,KAAKK,IAAZ;AACD;;;;EA/B4CJ,0B","sourcesContent":["import CompositePattern from \"./CompositePattern.js\";\n\nexport default class OptionalComposite extends CompositePattern {\n  constructor(pattern) {\n    super(\"optional-composite\", [pattern]);\n    \n    this._assertArguments();\n  }\n\n  _assertArguments() {\n    if (!(this.children[0] instanceof CompositePattern)) {\n      throw new Error(\"Invalid Arguments: Expected a CompositePattern.\");\n    }\n  }\n\n  parse(cursor, parseError) {\n    const mark = cursor.mark();\n    this.mark = mark;\n    \n    try {\n      return this.children[0].parse(cursor, parseError);\n    } catch (error) {\n      cursor.moveToMark(mark);\n      return null;\n    }\n  }\n\n  clone() {\n    return new OptionalComposite(this.children[0]);\n  }\n\n  getCurrentMark(){\n    return this.mark;\n  }\n}\n"],"file":"OptionalComposite.js"}